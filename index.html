<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <title>Flipbook</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        .page {
            display: none;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            height: 100vh;
        }
    </style>
</head>
<body>
    <!-- Pages will be dynamically added here -->
	Una Web
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const pages = document.querySelectorAll(".page");
            let currentPage = 0;
            const totalPages = 139; // Set the total number of pages

            function preloadImage(pageNumber) {
                const paddedPageNumber = pad(pageNumber + 1, 3);
                const pageFileName = `RPi_PiPico_Digital_v11/RPi_PiPico_Digital_v11-${paddedPageNumber}.png`;
                const pagePath = pageFileName;

                const img = new Image();
                img.src = pagePath;
                img.onload = function () {
                    pages[pageNumber].style.backgroundImage = `url(${pagePath})`;
                };
            }

            function showPage(pageNumber) {
 		if (pageNumber >= 0 && pageNumber < pages.length) {
   		    preloadImage(pageNumber);
    		}
	    }

            function nextPage() {
                if (currentPage < totalPages - 1) {
                    currentPage++;
                    showPage(currentPage);
                }
            }

            function prevPage() {
                if (currentPage > 0) {
                    currentPage--;
                    showPage(currentPage);
                }
            }

            function pad(number, length) {
                // Function to pad numbers with leading zeros
                let str = '' + number;
                while (str.length < length) {
                    str = '0' + str;
                }
                return str;
            }

            document.body.addEventListener("keydown", function (event) {
                if (event.key === "ArrowRight") {
                    nextPage();
                } else if (event.key === "ArrowLeft") {
                    prevPage();
                }
            });

            // Trigger initial display
            showPage(currentPage);
        });
    </script>
</body>
</html>
